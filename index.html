<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ruine Comptable - Dashboard</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <!-- Firebase SDK -->
  <script type="module">
    // Import Firebase modules
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

    // ðŸ”¥ Firebase config (soloina amin'ny anao manokana)
    const firebaseConfig = {
      apiKey: "AIzaSyXXXXXXX",
      authDomain: "ruine-comptable.firebaseapp.com",
      projectId: "ruine-comptable",
      storageBucket: "ruine-comptable.appspot.com",
      messagingSenderId: "1234567890",
      appId: "1:1234567890:web:abcdef123456",
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Fonction fangalana data
    async function loadDashboard() {
      const clientsSnap = await getDocs(collection(db, "clients"));
      const produitsSnap = await getDocs(collection(db, "produits"));
      const ventesSnap = await getDocs(collection(db, "ventes"));
      const stocksSnap = await getDocs(collection(db, "stocks"));

      document.getElementById("countClients").textContent = clientsSnap.size;
      document.getElementById("countProduits").textContent = produitsSnap.size;
      document.getElementById("countVentes").textContent = ventesSnap.size;
      document.getElementById("countStocks").textContent = stocksSnap.size;
    }

    // Mandeha rehefa misokatra ny page
    window.onload = loadDashboard;
  </script>
</head>
<body>
  <header>
    <h1>Ruine Comptable</h1>
    <nav>
      <a href="index.html" class="active">Dashboard</a>
      <a href="client.html">Clients</a>
      <a href="produit.html">Produits</a>
      <a href="stock.html">Stocks</a>
      <a href="reservation.html">RÃ©servations</a>
      <a href="vente.html">Ventes</a>
      <a href="livraison.html">Livraisons</a>
      <a href="facture.html">Factures</a>
      <a href="commande.html">Commandes</a>
    </nav>
  </header>

  <div class="container">
    <h2>Tableau de bord</h2>
    <div class="dashboard">
      <div class="card"><h3>Clients</h3><p id="countClients">0</p></div>
      <div class="card"><h3>Produits</h3><p id="countProduits">0</p></div>
      <div class="card"><h3>Ventes</h3><p id="countVentes">0</p></div>
      <div class="card"><h3>Stocks</h3><p id="countStocks">0</p></div>
    </div>
  </div>
</body>
</html>
